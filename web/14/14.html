<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>第15章作业</title>
</head>

<body>
    <h2>删除成绩</h2>
    <form name="form1">
        <p><input type="checkbox">语文：85分</p>
        <p><input type="checkbox">数学：95分</p>
        <p><input type="checkbox">英语：87分</p>
        <input type="button" value="删除" onclick="deleted();">
    </form>
    <h2>段落</h2>
    <p onclick="changecolor(this)">点击我可以变色哦 </p>
    <p onclick="changecolor(this)">点我也可以变色哦</p>
    <h2>求平均值</h2>
    <form name="form2">
        <p>
            <label>语文</label>
            <input type="text">
        </p>
        <p>
            <label>数学</label>
            <input type="text">
        </p>
        <p>
            <label>英语</label>
            <input type="text">
        </p>
        <input type="button" value="求平均值" onclick="avg();">
    </form>

</body>

<script>
    function deleted() {
        flag = false;
        for (var i = 0; i < document.form1.elements.length - 1; i++) {
            if (document.form1.elements[i].checked == true) {
                flag = true;
            }
        }
        if (!flag) {
            alert("请选择要删除的成绩");
        } else {
            if (confirm("你真的要删除吗？")) {
                for (var i = 0; i < document.form1.elements.length - 1; i++) {
                    if (document.form1.elements[i].checked == true) {
                        var el = document.form1.elements[i].parentNode;
                        el.parentNode.removeChild(el);
                        i--;
                    }
                }
            }
        }

    }

    function changecolor(el) {
        var x = Math.floor(Math.random() * 255),
            y = Math.floor(Math.random() * 255),
            z = Math.floor(Math.random() * 255);
        el.style.color = "rgb(0, 255, 0)";
        el.setAttribute("style", "color:rgb(" + x + ", " + y + ", " + z + ");background-color: rgb(" + (255 - x) + ", " + (255 - y) + ", " + (255 - z) + ");");
    }

    function avg() {
        var avg = 0
        n = document.form2.elements.length - 1
        for (var i = 0; i < n; i++) {
            var num = document.form2.elements[i].value * 1.0;
            avg += num;
        }
        avg /= n;
        alert("平均值:" + avg);
    }
</script>

</html>